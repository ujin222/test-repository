<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>array part3</title>
  </head>
  <body></body>
  <script>
    // 1. forEach() 함수 ⭐⭐⭐
    // 해당 배열의 모든 요소에 대하여 반복적으로 명시된 함수를 <실행한다>.
    document.write(`<h1>1. forEach() 함수</h1>`);
    const arr = [1, true, "javascript"];
    function printArr(value, index, array) {
      console.log(`value: ${value}, index: ${index}, array: ${array}`);
    }
    arr.forEach(printArr);
    // console.log(typeof printArr); // ()가 없으면 함수 자체를 의미
    // console.log(typeof printArr()); // ()가 있으면 함수를 즉시 실행

    // 2. map() 함수 ⭐⭐⭐⭐⭐
    // 해당 배열의 모든 요소에 대하여 반복적으로 명시된 함수를 <실행한 후>,
    // 그 실행 결과를 새로운 배열에 담아 반환한다.
    const arr2 = [3, 4, 5, 6];
    const arr3 = [];
    // for (let i = 0; i < arr2.length; i++) {
    //   arr3.push(arr2[i] * 2);
    // }
    // arr2.forEach(function(v)) {
    //     arr3.push(v * 2);
    // }
    let modifiedArr = [];
    modifiedArr = arr2.map(function (element, index, array) {
      return element * 2;
    });
    document.write(`<h1>2. map() 함수</h1>`);
    document.write(`<h3>arr2: [${arr2}]</h3>`);
    document.write(`<h3>arr2에 * 2: [${modifiedArr}]</h3>`);

    const users = [
      { firstName: "베컴", lastName: "데이비드" },
      { firstName: "더브라위너", lastName: "케빈" },
      { firstName: "홀란드", lastName: "엘링" },
    ];
    // ['데이비드 베컴', '케빈 더브라위너', '엘링 홀란드']
    const NameArr = users.map(function (v) {
      return `${v.lastName} ${v.firstName}`;
    });
    document.write(`<h3>users: [${users}]</h3>`);
    document.write(`<h3>NameArr: [${NameArr}]</h3>`);

    const numberArr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    function multiplyThree(number) {
      return number * 3;
    }
    const newNumberArr = numberArr.map(multiplyThree);
    document.write(`<h3>${multiplyThree(10)}</h3>`);
    document.write(`<h3>numberArr: [${numberArr}]</h3>`);
    document.write(`<h3>newNumberArr: [${newNumberArr}]</h3>`);

    document.write(`<h1> map() 연습</h1>`);

    const doubleArr = [
      [1, 2, 3],
      [4, 5, 6],
      [7, 8, 9],
    ];
    // [6, 15, 24]
    function plusarr(p) {
      let sum = 0;
      for (let i = 0; i < p.length; i++) {
        sum += p[i];
      }
      return sum;
    }
    const plusArr = doubleArr.map(plusarr);
    document.write(`<h3>plusArr: [${plusArr}]</h3>`);

    const numArr = [5, 10, 15, 20];
    //[0, 5, 10, 15];
    function fiveNum(odd) {
      return odd - 5;
    }
    const odd = numArr.map(fiveNum);
    document.write(`<h3>oddNum: [${odd}]</h3>`);

    const strArr = ["apple", "banana", "watermelon"];
    // [5, 6, 10]
    const strnumArr = strArr.map(function (x) {
      return x.length;
    });
    document.write(`<h3>strnumArr: [${strnumArr}]</h3>`);

    const strArr2 = ["hello", "wolrd", "javascript"];
    // ['HELLO', 'WORLD', 'JAVASCRIPT'];   // 문자열.toUpperCase();
    const upStrArr = strArr2.map(function (t) {
      return t.toUpperCase();
    });
    document.write(`<h3>upStrArr: [${upStrArr}]</h3>`);

    const numArr2 = [10, 20, 30, 40, 50];
    // ['index 0: 10', 'index 1: 20', 'index 2: 30', 'index 3: 40', 'index 4: 50']
    const indexNumArr = numArr2.map(function (y, z) {
      return `index ${z}: ${y}`;
    });
    document.write(`<h3>indexNumArr: [${indexNumArr}]</h3>`);

    const users2 = [
      { id: 1, name: "김덕배" },
      { id: 2, name: "최덕배" },
      { id: 3, name: "이덕배" },
    ];
    // ['김덕배', '최덕배', '이덕배']
    const userName = users2.map(function (v) {
      return `${v.name}`;
    });
    document.write(`<h3>userName: [${userName}]</h3>`);

    const users3 = [
      { id: 1, name: "김덕배", contact: { email: "kim@gmail.com" } },
      { id: 2, name: "최덕배", contact: { email: "choi@gmail.com" } },
      { id: 3, name: "이덕배", contact: { email: "lee@gmail.com" } },
    ];
    const userEmail = users3.map(function (e) {
      return `${e.contact.email}`;
    });
    document.write(`<h3>userEmail: [${userEmail}]</h3>`);

    const doubleArr2 = [
      [1, 2, 3],
      [4, 5, 6],
      [7, 8, 9],
    ];
    // [2, 4, 6] [8, 10, 12] [14, 16, 18]
    const newDoubleArr = doubleArr2.map(function (x) {
      const exArr = [];
      for (let i = 0; i < x.length; i++) {
        exArr.push(x[i] * 2);
      }
      return exArr;
    });
    console.log(newDoubleArr);

    const newDoubleArr2 = doubleArr2.map(function (y) {
      return y.map(function (y) {
        return y * 2;
      });
    });
    console.log(newDoubleArr2);

    // 3. filter() 함수 ⭐⭐⭐⭐
    // 배열의 모든 요소에 대하여 반복적으로 명시된 함수를 실행한 후,
    // 그 결과값이 <true 인 요소들만> 새로운 배열로 반환한다.
    document.write(`<h1>3. filter() 함수</h1>`);
    const arr11 = [1, 2, 3, 4, 5];
    // [4, 5]
    let result = [];
    // for (let i = 0; i < arr11.length; i++) {
    //   if (arr11[i] > 3) {
    //     result.push(arr11[i]);
    //   }
    // }
    // document.write(`<h3>filter(): [${result}]</h3>`);

    result = arr11.filter(function (v) {
      return v > 3;
    });
    document.write(`<h3>filter(): [${result}]</h3>`);

    // filter() 연습
    const guys = [
      { name: "덕배", money: 500000 },
      { name: "베컴", money: 700000 },
      { name: "홀란드", money: 600000 },
      { name: "포든", money: 400000 },
    ];
    // {name: '베컴', money: 700000}, {name: '홀란드', money: 600000}
    const manyMoney = guys.filter(function (m) {
      return m.money > 500000;
    });
    console.log(manyMoney);

    // money > 500000, name == '홀란드'
    const rich = guys.filter(function (r) {
      return r.money > 500000 && r.name == "홀란드";
    });
    console.log(rich);

    // 4. reduce() 함수
    // 해당 배열의 모든 요소를 하나의 값으로 줄이기 위해, 두 개의 인수를 전달받는 함수를 실행한다.
    // 이때 명시된 함수에 첫번째 요소와 두번째 요소를 인수로 전달하고 실행한다.
    // 그 결과 반환된 결과값에 세번째 요소를 다시 인수로 전달하고 실행한다.
    document.write(`<h1>4. reduce() 함수</h1>`);
    const arr12 = [1, 2, 3, 4, 5];
    const result12 = arr12.reduce(function (x, y) {
      return x + y;
    });
    document.write(`<h3>원본배열: [${arr12}]</h3>`);
    document.write(`<h3>reduce 결과: [${result12}]</h3>`);
    const result13 = arr12.reduce(function (x, y) {
      return x - y;
    });
    document.write(`<h3>reduce 결과: [${result13}]</h3>`);

    // 1. accmulator : 누산기, 누적기
    // 2. currentValue : 처리할 현재 요소
    // 3. currentIndex : 처리할 현재 요소의 인덱스
    // 4. array : 대상 배열 전체
    // Array.reduce(function(acc, cur, idx, arr) {
    // }, initialValue)

    // 5. reduceRight() 함수
    // reduce() 함수와 같은 방식으로 실행되며, 배열의 마지막 요소부터 줄이기 시작한다.
    const result14 = arr12.reduceRight(function (x, y) {
      return x - y;
    });
    document.write(`<h3>reduceRight 결과: [${result14}]</h3>`);
  </script>
</html>
