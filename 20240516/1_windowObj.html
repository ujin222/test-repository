<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>window 객체</title>
  </head>
  <body>
    <button onclick="openPopup()">게임하러가기</button>
    <button onclick="closePopup()">게임 끄기</button>
    <p>버튼을 누르면 3초 후에 경고 박스가 화면에 표시됩니다.</p>
    <button onclick="showAlert()">SetTimeout</button>
    <p id="interval">버튼을 누르면 1초마다 배경 색상이 화면에 표시됩니다.</p>
    <button onclick="startInterval()">setInterval</button>
    <button onclick="stopSetInterval()">stopInterval</button>
    <br />
    <button onclick="showLocation()">location</button>
  </body>
  <script>
    let child;
    function openPopup() {
      // open("팝업을 띄울 화면의 경로", "새로운 창", 'width=1000, height=500');
      child = window.open(
        "../20240510/2_numberGuess.html",
        "_blank",
        "width=1000, height=500, top=100, left=100"
        // location=no 주소입력창 없어짐, reaizeable=no 팝업창 크기 조절 불가해짐, toolbar=no 도구 모음 없어짐
      );
    }
    function closePopup() {
      child.close();
    }

    function showAlert() {
      // setTimeout(콜백함수, 지연시간);
      setTimeout(function () {
        alert("setTimeout() 을 사용하여 3초 이후 표시되었습니다.");
      }, 3000);
    }
    // function showAlert() {
    //   setTimeout(delayAlert(), 3000);
    // }
    // function delayAlert() {
    //   alert("setTimeout() 을 사용하여 3초 이후 표시되었습니다.");
    // }

    let start;
    function startInterval() {
      // setInterval(콜백함수, 지연(반복)시간)
      start = setInterval(function () {
        const colorArr = [];
        for (let i = 0; i < 3; i++) {
          const randNum = parseInt(Math.random() * 256);
          colorArr.push(randNum);
        }
        const pEl = document.querySelector("#interval");
        pEl.style.backgroundColor = `rgb(${colorArr.toString()})`;
      }, 1000);
    }
    function stopSetInterval() {
      clearInterval(start);
    }

    function showLocation() {
      console.log(location);
      //   location.reload();
      //   location.href = "../20240510/2_numberGuess.html";
      //   location.replace("../20240510/2_numberGuess.html"); // 뒤로 가기가 안됨
    }
  </script>
</html>
